{"ast":null,"code":"import React from'react';import{formatDistance,formatPhoneNumber}from'../utils/formatters';import'./FacilityCard.css';// calculateDistance 함수를 api.js에서 가져옴\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const calculateDistance=(lat1,lon1,lat2,lon2)=>{const R=6371;// 지구의 반지름 (km)\nconst dLat=deg2rad(lat2-lat1);const dLon=deg2rad(lon2-lon1);const a=Math.sin(dLat/2)*Math.sin(dLat/2)+Math.cos(deg2rad(lat1))*Math.cos(deg2rad(lat2))*Math.sin(dLon/2)*Math.sin(dLon/2);const c=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return R*c;};const deg2rad=deg=>{return deg*(Math.PI/180);};const FacilityCard=_ref=>{let{facility,onClose,userLocation}=_ref;const distanceText=facility.distance?formatDistance(facility.distance):userLocation&&facility.fcltyCrdntLa&&facility.fcltyCrdntLo?formatDistance(calculateDistance(userLocation.lat,userLocation.lng,Number(facility.fcltyCrdntLa),Number(facility.fcltyCrdntLo))):'';return/*#__PURE__*/_jsxs(\"div\",{className:\"facility-card\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"close-button\",onClick:onClose,children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"h3\",{children:facility.fcltyNm}),/*#__PURE__*/_jsxs(\"p\",{className:\"address\",children:[facility.fcltyAddr,\" \",facility.fcltyDetailAddr]}),facility.rprsntvTelNo&&/*#__PURE__*/_jsx(\"p\",{className:\"phone\",children:/*#__PURE__*/_jsx(\"a\",{href:`tel:${facility.rprsntvTelNo}`,children:formatPhoneNumber(facility.rprsntvTelNo)})}),facility.mainItemNm&&/*#__PURE__*/_jsx(\"p\",{className:\"main-item\",children:facility.mainItemNm}),distanceText&&/*#__PURE__*/_jsxs(\"p\",{className:\"distance\",children:[\"\\uD604\\uC7AC \\uC704\\uCE58\\uC5D0\\uC11C \",distanceText]})]});};export default FacilityCard;","map":{"version":3,"names":["React","formatDistance","formatPhoneNumber","jsx","_jsx","jsxs","_jsxs","calculateDistance","lat1","lon1","lat2","lon2","R","dLat","deg2rad","dLon","a","Math","sin","cos","c","atan2","sqrt","deg","PI","FacilityCard","_ref","facility","onClose","userLocation","distanceText","distance","fcltyCrdntLa","fcltyCrdntLo","lat","lng","Number","className","children","onClick","fcltyNm","fcltyAddr","fcltyDetailAddr","rprsntvTelNo","href","mainItemNm"],"sources":["/Users/dgsw01/Documents/GitHub/Nurijang-web/src/components/FacilityCard.js"],"sourcesContent":["import React from 'react';\nimport { formatDistance, formatPhoneNumber } from '../utils/formatters';\nimport './FacilityCard.css';\n\n// calculateDistance 함수를 api.js에서 가져옴\nconst calculateDistance = (lat1, lon1, lat2, lon2) => {\n  const R = 6371; // 지구의 반지름 (km)\n  const dLat = deg2rad(lat2 - lat1);\n  const dLon = deg2rad(lon2 - lon1);\n  const a = \n    Math.sin(dLat/2) * Math.sin(dLat/2) +\n    Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) * \n    Math.sin(dLon/2) * Math.sin(dLon/2);\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\n  return R * c;\n};\n\nconst deg2rad = (deg) => {\n  return deg * (Math.PI/180);\n};\n\nconst FacilityCard = ({ facility, onClose, userLocation }) => {\n  const distanceText = facility.distance \n    ? formatDistance(facility.distance)\n    : userLocation && facility.fcltyCrdntLa && facility.fcltyCrdntLo\n      ? formatDistance(calculateDistance(\n          userLocation.lat,\n          userLocation.lng,\n          Number(facility.fcltyCrdntLa),\n          Number(facility.fcltyCrdntLo)\n        ))\n      : '';\n\n  return (\n    <div className=\"facility-card\">\n      <button className=\"close-button\" onClick={onClose}>&times;</button>\n      <h3>{facility.fcltyNm}</h3>\n      <p className=\"address\">{facility.fcltyAddr} {facility.fcltyDetailAddr}</p>\n      {facility.rprsntvTelNo && (\n        <p className=\"phone\">\n          <a href={`tel:${facility.rprsntvTelNo}`}>\n            {formatPhoneNumber(facility.rprsntvTelNo)}\n          </a>\n        </p>\n      )}\n      {facility.mainItemNm && (\n        <p className=\"main-item\">{facility.mainItemNm}</p>\n      )}\n      {distanceText && (\n        <p className=\"distance\">현재 위치에서 {distanceText}</p>\n      )}\n    </div>\n  );\n};\n\nexport default FacilityCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}